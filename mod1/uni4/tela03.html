<!DOCTYPE HTML>
<html>
<head>
	<title>Mentoria</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="../../css/main.css"/>
	<link rel="stylesheet" href="../../css/cards2.css"/>
	<link rel="stylesheet" href="../../css/menu-top-down.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
	<link rel="stylesheet" href="../../css/rodape.css"/>
	<link rel="stylesheet" href="../../css/fontes.css"/>
	<link rel="stylesheet" href="../../css/boxes.css"/>
    <link rel="stylesheet" href="../../css/podcast.css"/> 

</head>
<body>

	<!-- Header -->
	<header id="header">
		<div class="logo">
			<a href="../sumario.html">UNIDADE 4</a>
		</div>				
	</header>			

	<!-- Main -->
	<section id="main">
		<div class="inner">
			<!-- One -->
			<section id="one" class="wrapper style1">

				<header class="special">
					<div class="entire-menu">
						<div class="menu-tit">
							<div class="menu-tit-col1"> 
								<h2>Composição de Itinerários</h2>
							</div>
							<div class="menu-tit-col2">											
								<input type="checkbox" id="change-hamburguer" />  															
								<a class="hamburguer" href="#">  										
									<span></span>   									  									
									<label for="change-hamburguer"></label>
								</a>  									  									
								<div class="menu">
									<a href="../sumario.html" class='titulo-menu'>UNIDADE 4</a>
									<a href="tela01.html" class='link-menu-atual'>Tela 01 - Apresentação</a>
									<a href="tela02.html">Tela 02 - Itinerários Formativos</a>
									<a href="tela03.html">Tela 03 - Composição de Itinerários</a>
									<a href="tela04.html">Tela 04 - Qualificação Profissional</a>
									<a href="tela05.html">Tela 05 - Concluindo</a>
								</div>
							</div>	
						</div>	
					</div>	
				</header>

				<div class="content">

					<p>Quando criança, os adultos costumam nos perguntar: o que você vai ser quando crescer?</p>

					<p>Uma pergunta difícil de responder, mas a maioria das crianças geralmente têm uma resposta: a profissões da mãe ou do pai, o trabalho de algum ídolo, ou repete algo que os familiares indicam…</p>

					<img src="../../img/uni4/crianca.jpg" alt="Imagem da criança">
					<p></p>
					<p>Cada um de nós desenvolve interesse por algumas atividades ou saberes, de forma particular, assim, nossas escolhas vão se construindo dentre as possibilidades que vamos descobrindo e experimentando.</p>
					<div class='box-atencao'>
						<div class="imagem-fundo">
							<img src="../../img/uni4/MOOC1_uni4_tela3_Imagem 2.jpg" alt="Imagem box atenção" />
						</div>
						<div class="texto">
							<span>Quanto maior as possibilidades de descoberta e de experimentação, maiores as chances de nossas escolhas se identificarem com nossos interesses.</span>
						</div>
					</div>
					<p>Vamos falar de Itinerário Formativo:</p>
					<p>Um itinerário é um caminho, uma trilha que seguimos para algum lugar. Um itinerário formativo é o conjunto de formações, cursos e demais atividades que desenvolvemos para construir uma profissão ou uma possibilidade de atividade laboral.</p>
					<p>Considere, por exemplo, as imagens narradas a seguir:</p>

					<img src="../../img/uni4/ofcina.jpg" alt="Imagem da oficina popular">

					<div class="icone-audio">
                        <a class='icone-play' id="botao-play-podcast" onclick="playShowPod()"><img src="../../img/uni3/icone-audio.png" class='icone-play' /></a>																		
                        <a class="icone-pause" id="botao-pause-podcast" onclick="pauseShowPod()" style="display:none;"><img src="../../img/uni3/icone-audio2.png" /></a>
                        <audio id='playerPodcast' controls='controls'>
                            <source src="../../img/uni3/PODCAST_UNIDADE_3.mp3" type="audio/mp3" />Seu navegador não suporta HTML5
                        </audio>
                    </div>

					<img src="../../img/uni4/ofcina.jpg" alt="Imagem da oficina moderna">

					<div class="icone-audio">
                        <a class='icone-play' id="botao-play-podcast" onclick="playShowPod()"><img src="../../img/uni3/icone-audio.png" class='icone-play' /></a>																		
                        <a class="icone-pause" id="botao-pause-podcast" onclick="pauseShowPod()" style="display:none;"><img src="../../img/uni3/icone-audio2.png" /></a>
                        <audio id='playerPodcast' controls='controls'>
                        	<source src="../../img/uni3/PODCAST_UNIDADE_3.mp3" type="audio/mp3" />Seu navegador não suporta HTML5
                        </audio>
                    </div>

					<p>Esse é apenas um exemplo de atividade profissional que exige estudos formais, algumas atividades não necessitam de escolaridade, algumas, de um curso de qualificação outras um curso técnico, algumas ainda, cursos de graduação.</p>

					<div class='fique-por-dentro'>
						<div class="imagem-fundo"><img src="../../img/uni2/MOOC1_Uni2_tela5_imagem5.png" /></div>
					        <div class='texto'>
					        	<span>Esse é apenas um exemplo de atividade profissional que exige estudos formais, algumas atividades não necessitam de escolaridade, algumas, de um curso de qualificação outras um curso técnico, algumas ainda, cursos de graduação.</span>
					        </div>
					    </div>
					</div>    

							<div class='navegacao'>
								<span class="lista-navegacao" style="margin-left:530px;">
									<a href="#"><i class="fas fa-angle-double-up" style="font-size:48px;"></i></a>                                		                            
								</span>                     
								<span><a href="tela03.html"><button class="bt-avanca" type="button">PROSSEGUIR ></button></a></span>                                                                  							 
								<span class='botoes-navegacao'>
									<a href="tela02.html"><button class="bt-navegacao" type="button"><</button></a>

									<a href="tela01.html"><input type="radio" name="radio"><label for="radio"></label></a>                                		
									<a href="tela02.html"><input type="radio" name="radio"><label for="radio"></label></a>
									<a href="tela03.html"><input type="radio" name="radio"><label for="radio"></label></a>
									<a href="tela04.html"><input type="radio" name="radio"><label for="radio"></label></a>
									<a href="tela05.html"><input type="radio" name="radio"><label for="radio"></label></a>									

									<a href="tela04.html"><button class="bt-navegacao" type="button">></button></a>
								</span>                                 
								<span class="legenda">Tela 1 de 5</span>  

							</div>
							<hr>
					<div class="linha">
								<div class="coluna-50"> 
									<img width="300" height="90" src="../../img/uni1/ifsc.png" alt="IFSC">
								</div>							
								<div class="coluna-50"> 
									<img width="300" height="90" src="../../img/uni1/ifes.png" alt="IFES">
								</div>
							</div>	       	
						</div>

					</section>
				</div>				
			</section>

			<!-- Footer -->
			<footer id="footer">              
			</footer>

			<script src="https://cdn.jsdelivr.net/npm/@labtime/avamec-api-bridge-cliente@latest/dist/bridge-rest-api.bundle.js"></script>	
			<script>
				console.clear(screen);

				var API = new BridgeRestApi();		
				var id_unidade = "uni2";
				var id_slide = "uni1/tela000.html";
				var progresso = 14;
				var progressoSalvo;
				var porcentagem = "porcentagemUni2";

			//Obtendo dados curso
			window.addEventListener('load', function(){            
				API.obterDadosCurso();
			})
			
			window .addEventListener( "evObtemDadosCurso" , resultadoObterDadosCurso, false );
			function resultadoObterDadosCurso(evento){            
				console.log(evento.detail); 
				//antes de registrar a porcentagem, verifica a porcentagem atual:
				API.obterDadosGenericos(porcentagem);				                
			}


			//Quando obtém a porcentagem da unidade em questão, executa esta função
			window .addEventListener( "evObtemDadosGenericos" , resultadoObtemDadosGenericos,false );
			function resultadoObtemDadosGenericos (evento){
				console.log(evento.detail);

				//testando se o status é 200, unidade já iniciada
				if(evento.detail["status"]==200){
					var i=0;
					var cont = 0;
					//O evento retorna um vetor. É preciso pesquisar em qual posição está a porcentagem da unidade atual
					while(i==0){						
						if(evento.detail["data"][cont]["chave"]==porcentagem){
							console.log("achou na posição "+cont);
							console.log(evento.detail["data"][cont]["chave"]);
							i=1;
						}else{							
							console.log("não encontrou na posição "+cont);							
							console.log(evento.detail["data"][cont]["chave"]);	
							cont=cont+1;													
							if(cont==10){
								i=1;	
							}
						}
						
					}
					
					//depois que encontrar a posição certa, verifica o progresso atual
					progressoSalvo = evento.detail["data"][cont]["valor"];
					console.log("Valor de Porcentagem atual: "+progressoSalvo);
					
					if(progressoSalvo < progresso){
						//registrando a porcentagem da Unidade em questão
						API.registrarDadosGenericos(porcentagem,progresso);
						console.log('Registrando nova porcentagem: '+progresso); 						
					}else{
						//Se o cursista estiver revendo a tela, o progresso Salvo será maior, então não altera nada.
						console.log("Porcentagem não alterada.");
					}
					
				}else if(evento.detail["status"]==412){
					//se for status 400, inicia a chave da porcentagem da unidade em questão
					console.log("Inicializando a porcentagem da unidade");
					API.registrarDadosGenericos(porcentagem,14);
				}				
			};

			window.addEventListener('evObtemRegistraDadosGenericos', resultadoRegistrarDadosGenericos, false);
			function resultadoRegistrarDadosGenericos (evento){
				console.log("Verificando porcentagem registrada");
				console.log(evento.detail);
			};

		</script>

	</body>
	</html>