	<!DOCTYPE HTML>
<html>
	<head>
		<title>Mentoria</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="../../css/mooc1.css?ver=1.2"/>
        <link rel="stylesheet" href="../../css/boxes.css?ver=1.4"/>
		<link rel="stylesheet" href="../../css/atividades.css?ver=1.1"/>

		<!-- Botão de Voltar ao Topo -->
		<script src="../../js/jquery-2.1.1.js"></script>
		<script src="../../js/bt-topo.js"></script>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-SB34EK30YV"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'G-SB34EK30YV');
		</script>

		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
					new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
				j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
				'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-MK4H2FJ');</script>
		<!-- End Google Tag Manager -->
	</head>
	<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MK4H2FJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->

	<!-- Header -->
	<header id="header">
		<div class="logo">
			<a href="tela01.html">UNIDADE 3</a>
			<h3>Apresentação do itinerário para a Educação Profissional</h3>
		</div>
	</header>

		<!-- Main -->
			<section id="main">
				<div class="inner">
				<!-- One -->
					<section id="one" class="wrapper style1">
						<div class="botao-sumario">				
							<a class="link-progresso" href="../sumario.html"><i class="fas fa-tasks"></i> PROGRESSO</a>
						</div>

						<header class="special">
							<div class="entire-menu">
								<div class="menu-tit">
									<div class="menu-tit-col1"> 
										<h2>Unidade 3 - Avaliação</h2>
									</div>
									<div class="menu-tit-col2">											
										<input type="checkbox" id="change-hamburguer" />  															
  										<a class="hamburguer" href="#">  										
   										<span></span>   									  									
	    									<label for="change-hamburguer"></label>
  										</a>  									  									
  										<div class="menu">
											<a href="tela01.html" class='titulo-menu link-menu-atual'>UNIDADE 3</a>
	    									<a href="tela01.html">3.01 - Apresentação</a>
   	 										<a href="tela02.html">3.02 - Itinerários Formativos</a>
    										<a href="tela03.html">3.03 - Composição de Itinerários</a>
    										<a href="tela04.html">3.04 - Qualificação Profissional</a>
    										<a href="tela05.html">3.05 - Concluindo</a>
  										</div>
  									</div>	
  								</div>	
  							</div>	
						</header>
						
						<div class="content">
							
							<div class="questao">
                                <div class="titulo-questao">Questão 1</div>
                                <div class="enunciado-questao">
                                    <p>Vimos na unidade 3 que existem diferentes tipos de itinerários formativos, cursos de qualificação e cursos técnicos.</p>
									<p>A proposta da atividade é fazer um levantamento do contexto econômico da sua região. Procure perceber quais são os principais ramos de atuação para um estudante egresso da formação profissional (tipos de indústria, serviços, turismo, saúde, pecuária, agroeconomia, entre outros) e compartilhe no fórum seus principais achados. </p>
									<p>Além disso, é possível citar profissões que permitem atividades inovadoras e o desenvolvimento de atividades empreendedoras (artesanato, tecnologias computacionais, comércio e serviços, economia colaborativa, cooperativismo, entre outros).</p>
									<p class='link'><a href="https://hmg.labtime.ufg.br/avamec/#/instituicao/setec/curso/6116/turma/6136/ferramenta/forum/topico/3741/acessar" target="_blank">Clique aqui para compartilhar no fórum suas contribuições</a></p>									
									</p>
                                </div>
                                
                            </div> 
							
						</div>
						<!-- Conteúdo -->
						<div class="content footer">
							<div class='navegacao'>
								<div class="bt-topo">
									<a href="#"><i class="fas fa-angle-up"></i></a>
								</div>
								<div>
									<button class="bt-avanca" type="button"><a href="../uni4/index.html">UNIDADE 4 &#10095;</a></button>
								</div>
								
							</div>
							<!--Rodapé-->
							<hr/>
							<div class="row rodape">
								<div class="6u 12u$(small)">
									<p></p>
									<img src="../../img/padrao/logo_mentoria.png" alt="IFSC">
								</div>
								<div class="3u 12u$(small)">
									<p>Realização:</p>
									<img src="../../img/padrao/logo_mec.png" alt="IFSC">
						<p class="small"><b>Secretaria de Educação Profissional e Tecnológica</b></p>
								</div>
								<div class="3u 12u$(small)">
									<p>Produção:</p>
									<img src="../../img/padrao/ifsc.png" alt="IFSC">
									<img src="../../img/padrao/ifes.png" alt="IFES">
								</div>
							</div><!--Rodapé-->
						</div>
						
					</section>
				</div>				
			</section>

		<!-- Footer -->
			<footer id="footer">              
			</footer>

		<script src="https://cdn.jsdelivr.net/npm/@labtime/avamec-api-bridge-cliente@latest/dist/bridge-rest-api.bundle.js"></script>	
		<script>
			console.clear(screen);
		
			var API = new BridgeRestApi();		
			var id_unidade = "uni2";
			var id_slide = "uni1/tela000.html";
			var progresso = 100;
			var progressoSalvo;
			var porcentagem = "porcentagemUni2";
			
			//Obtendo dados curso
			window.addEventListener('load', function(){            
				API.obterDadosCurso();
			})
			
			window .addEventListener( "evObtemDadosCurso" , resultadoObterDadosCurso, false );
			function resultadoObterDadosCurso(evento){            
				console.log(evento.detail); 
				//antes de registrar a porcentagem, verifica a porcentagem atual:
				API.obterDadosGenericos(porcentagem);				                
			}


			//Quando obtém a porcentagem da unidade em questão, executa esta função
			window .addEventListener( "evObtemDadosGenericos" , resultadoObtemDadosGenericos,false );
			function resultadoObtemDadosGenericos (evento){
				console.log(evento.detail);

				//testando se o status é 200, unidade já iniciada
				if(evento.detail["status"]==200){
					var i=0;
					var cont = 0;
					//O evento retorna um vetor. É preciso pesquisar em qual posição está a porcentagem da unidade atual
					while(i==0){						
						if(evento.detail["data"][cont]["chave"]==porcentagem){
							console.log("achou na posição "+cont);
							console.log(evento.detail["data"][cont]["chave"]);
							i=1;
						}else{							
							console.log("não encontrou na posição "+cont);							
							console.log(evento.detail["data"][cont]["chave"]);	
							cont=cont+1;													
							if(cont==10){
								i=1;	
							}
						}
						
					}
					
					//depois que encontrar a posição certa, verifica o progresso atual
					progressoSalvo = evento.detail["data"][cont]["valor"];
					console.log("Valor de Porcentagem atual: "+progressoSalvo);
					
					if(progressoSalvo < progresso){
						//registrando a porcentagem da Unidade em questão
						API.registrarDadosGenericos(porcentagem,progresso);
						console.log('Registrando nova porcentagem: '+progresso); 						
					}else{
						//Se o cursista estiver revendo a tela, o progresso Salvo será maior, então não altera nada.
						console.log("Porcentagem não alterada.");
					}
					
				}else if(evento.detail["status"]==412){
					//se for status 400, inicia a chave da porcentagem da unidade em questão
					console.log("Inicializando a porcentagem da unidade");
					API.registrarDadosGenericos(porcentagem,14);
				}				
			};

			window.addEventListener('evObtemRegistraDadosGenericos', resultadoRegistrarDadosGenericos, false);
			function resultadoRegistrarDadosGenericos (evento){
				console.log("Verificando porcentagem registrada");
				console.log(evento.detail);
			};

		</script>
	</body>
</html>